<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>訂單明細</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <style>
        body { padding-top: 70px; }
        .info-label { font-weight: bold; }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#">Gjun Rent</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ms-auto">
            	<!--<li class="nav-item"><button class="btn btn-secondary" onclick="showeditorder()" style="margin-left:10px;">編輯訂單</button></li>-->
                <li class="nav-item"><button class="btn btn-secondary" onclick="goBack()" style="margin-left:10px;">返回訂單列表</button></li>
                <li class="nav-item"><div id="welcome-message" style="color: yellow; margin-left:10px;"></div></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <h3 class="mb-3">訂單明細</h3>
    <table class="table table-bordered">
        <tbody>
        
        	<tr><td colspan="2" style="background:black; color:yellow; font-weight:bold;">訂購人資料</td></tr>
            <tr><td class="info-label">會員姓名</td><td id="editmemberName"></td></tr>
            <tr><td class="info-label">會員電話</td><td id="editmemberPhone"></td></tr>
            <tr><td class="info-label">會員Email</td><td id="editmemberEmail"></td></tr>
            <tr><td class="info-label">會員身分證號</td><td id="editmemberIdnumber"></td></tr>

			<tr><td colspan="2" style="background:black; color:yellow; font-weight:bold;">內容明細</td></tr>
            <tr><td class="info-label">訂單號碼</td><td id="editorderNo"></td></tr>
            <tr><td class="info-label">車名</td><td id="editcarName"></td></tr>
            <tr>
            	<td class="info-label">取車地點</td>
            	<td><select id="editpickupLocation" class="form-select"></select></td>
            </tr>
            <tr>
            	<td class="info-label">還車地點</td>
            	<td><select id="editreturnLocation" class="form-select"></select></td>
            </tr>  
            <tr><td class="info-label">取車日期</td><td id="editpickupDate"></td></tr>
            <tr><td class="info-label">取車時間</td><td id="editpickupTime"></td></tr>            
            <tr><td class="info-label">還車日期</td><td id="editreturnDate"></td></tr>            
            <tr><td class="info-label">還車時間</td><td id="editreturnTime"></td></tr>
            <tr><td class="info-label">租金/日</td><td id="editcarPrice"></td></tr>
            <tr><td class="info-label">租車天數</td><td id="editrentalDays"></td></tr>         
            <tr><td class="info-label">訂單狀態</td><td id="editstatus"></td></tr>
            <tr><td class="h5 fw-bold" class="info-label">小計</td><td class="h5 fw-bold" id="editrentsubtotal"></td></tr>
            

			<tr id="editrowAdditional"><td colspan="2" style="background:black; color:yellow; font-weight:bold;">附加費用</td></tr>
            <tr id="editrowChildSeat"><td class="info-label">兒童座椅</td><td id="showchildSeatQty"></td></tr>
            <tr id="editrowInsurance"><td class="info-label">保險</td><td id="showinsurance"></td></tr>
            <tr id="editrowAddtionalsubtotal"><td class="h5 fw-bold" class="info-label">小計</td><td class="h5 fw-bold" id="addtionalsubtotal"></td></tr>
            
            <tr><td colspan="2" style="background:black; color:yellow; font-weight:bold;">金額計算</td></tr>
            <tr><td class="h5 fw-bold" class="info-label">總金額</td><td class="h5 fw-bold" id="edittotalAmount"></td></tr> 

        </tbody>
    </table>

</div>

<script>
    // Navbar 登入/登出
    function gologinout() {
        if (sessionStorage.getItem("jwtToken")) {
            sessionStorage.clear();
            alert("您已登出");
            location.href = "login.html";
        } else {
            location.href = "login.html";
        }
    }

    $("#loginout").click(gologinout);

    // 顯示 XXX 您好
    window.onload = async function() {
        const token = sessionStorage.getItem("jwtToken");
        const memberName = sessionStorage.getItem("memberName");
        if(token && memberName) {
            $("#welcome-message").text(memberName + " 您好");
            $("#loginout").text("會員登出");
        }

        loadOrderDetail();
    };


</script>
	<script src="js/member.js"></script>
	<script src="js/employee.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
